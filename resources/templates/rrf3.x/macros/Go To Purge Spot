{% include "__templates__/avoid_tc_clash.jinja" %}

{% set target_y = brushes.values() | map(attribute='y_min', default=1000000) | min %}

var RIGHT = -1, LEFT = 1
var x_side = 0

if state.currentTool >= 0
    ; a tool is selected
    set var.x_side = tools[state.currentTool].offsets[0] > 0 ? var.RIGHT : var.LEFT


G0 X{ var.x_side == var.RIGHT ? 323 : -5} Y{{ [target_y, 225] | min }} F50000
